{% extends "base.html" %}

{% block head %}
<link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css"
integrity="sha512-xodZBNTC5n17Xt2atTPuE1HxjVMSvLVW9ocqUKLsCC5CXdbqCmblAshOMAS6/keqq/sMZMZ19scR4PsZChSR7A=="
crossorigin=""/>
{% endblock %}

{% block content %}
<div id="vm" code="{{ game_code }}">
  <div>
    <p>[[code]]</p>
    <p>[[game.name]]</p>
  </div>

  <!--
  <div v-bind:class="marker_selected < 0 ? 'sidepanel' : 'sidepanel_active'">
    <div v-if="game.quizes.length && marker_selected > -1">
      <p>[[ game.quizes[marker_selected].text ]]</p>
    </div>
  </div>
  -->
  <div id="map" ref="map" style="height: 500px;"></div> 
  
  <div v-if="game.hasOwnProperty('quizes')">
    <div v-if="game.quizes.length && marker_selected > -1">
      <p>[[ game.quizes[marker_selected].text ]]</p>

      <form>
        <div v-for="(option, index) in game.quizes[marker_selected].options">
          <label :for="'option'+index">[[ option ]]</label>
          <input type="radio" :id="'option'+index" :value="option" v-model="picked">
        </div>
      </form>
      <p>Picked: [[ picked ]]</p>
    </div>
  </div>

</div>

</div>


{% endblock %}

{% block scripts %}
<script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"
integrity="sha512-XQoYMqMTK8LvdxXYG3nZ448hOEQiglfqkJs1NOQV44cWnUrBc8PkAOcXy20w0vlaXaVUearIOBhiXZ5V3ynxwA=="
crossorigin=""></script>
<script src="{{ url_for('client_bp.static', filename='map_view.js') }}"></script>
{% endblock %}